{"version":3,"sources":["components/Searchbar/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/ContainerCentered/ContainerCentered.js","services/images-api.js","components/App.js","index.js"],"names":["SearchForm","state","value","handleInput","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","Searchbar","Button","handleShowMore","label","onClick","defaultProps","LoaderTailSpin","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","children","createPortal","ImageGalleryItem","image","showLargeImage","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","id","ContainerCentered","query","page","per_page","axios","get","then","response","data","App","showModal","LoadMore","isLoading","error","message","LargeImage","getImages","imagesApi","galleryContentHandler","catch","finally","totalHits","prevState","hits","length","loadMore","handleAutoScrollDown","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","url","prevProps","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e2c160a0.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './SearchForm.scss';\n\nclass SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n  handleInput = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    const { handleInput, handleSubmit } = this;\n    return (\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          onChange={handleInput}\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={value}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport './Searchbar.scss';\nimport SearchForm from './SearchForm';\n\nconst Searchbar = ({ onSubmit }) => {\n  return (\n    <header className=\"Searchbar\">\n      <SearchForm onSubmit={onSubmit} />\n    </header>\n  );\n};\n\nexport default Searchbar;\n","import React from 'react';\nimport './Button.scss';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ handleShowMore, label }) => {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={handleShowMore}>\n      {label}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  handleShowMore: PropTypes.func.isRequired,\n  label: PropTypes.string,\n};\n\nButton.defaultProps = {\n  label: 'Button Text',\n};\n\nexport default Button;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst LoaderTailSpin = () => {\n  return <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />;\n};\n\nexport { LoaderTailSpin };\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.scss';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n    onClose: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\nimport './ImageGalleryItem.scss';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ image, showLargeImage }) => {\n  const { webformatURL, tags, largeImageURL } = image;\n\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        onClick={() => showLargeImage(largeImageURL)}\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }),\n  showLargeImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport './ImageGallery.scss';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from './ImageGalleryItem';\n\nconst ImageGallery = ({ images, showLargeImage }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          image={image}\n          showLargeImage={showLargeImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport './ContainerCentered.scss';\nimport PropTypes from 'prop-types';\n\nconst ContainerCentered = ({ children }) => {\n  return <div className=\"ContentWrapper\">{children}</div>;\n};\n\nContainerCentered.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ContainerCentered;\n","import axios from 'axios';\n\nconst API_KEY = '19762883-8865d0dea9f1f7e21a434f769';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst getImages = ({ query, page, per_page }) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data);\n};\n\nexport default { getImages };\n","import React, { Component } from 'react';\nimport './App.scss';\nimport Searchbar from './Searchbar';\nimport Button from './Button';\nimport { LoaderTailSpin } from './Loader';\nimport Modal from './Modal';\nimport ImageGallery from './ImageGallery';\nimport ContainerCentered from './ContainerCentered';\nimport imagesApi from '../services/images-api';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    per_page: 12,\n    showModal: false,\n    LoadMore: false,\n    isLoading: false,\n    error: null,\n    message: '',\n    LargeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({ isLoading: true });\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    const { query, page, per_page } = this.state;\n    const options = { query, page, per_page };\n    imagesApi\n      .getImages(options)\n      .then(data => {\n        this.galleryContentHandler(data);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  galleryContentHandler = data => {\n    if (data.totalHits === 0) {\n      this.setState({ message: 'There is no images for your query' });\n      return;\n    }\n    this.setState(prevState => ({\n      images: [...prevState.images, ...data.hits],\n    }));\n    if (data.totalHits - this.state.images.length > 0) {\n      this.loadMore();\n    } else {\n      this.setState({ LoadMore: false });\n    }\n    this.handleAutoScrollDown();\n  };\n\n  handleAutoScrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  loadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.setState({ LoadMore: true });\n  };\n\n  onSubmit = query => {\n    this.setState({\n      query: query,\n      page: 1,\n      images: [],\n      error: null,\n      message: '',\n      LoadMore: false,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n    if (this.state.showModal) {\n      this.setState({ LargeImage: '' });\n    }\n  };\n\n  showLargeImage = url => {\n    this.setState({ LargeImage: url });\n    this.toggleModal();\n  };\n\n  handleShowMore = () => {\n    this.setState({ isLoading: true });\n    this.getImages();\n  };\n\n  render() {\n    const { onSubmit, handleShowMore, toggleModal, showLargeImage } = this;\n    const {\n      showModal,\n      images,\n      LoadMore,\n      isLoading,\n      error,\n      message,\n      LargeImage,\n    } = this.state;\n    const shouldRenderLoadMoreButton = LoadMore && !isLoading;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={onSubmit} />\n        {images.length > 0 && (\n          <ImageGallery images={images} showLargeImage={showLargeImage} />\n        )}\n        {error && (\n          <ContainerCentered>\n            <p>Something went wrong ....</p>\n          </ContainerCentered>\n        )}\n        {isLoading && (\n          <ContainerCentered>\n            <LoaderTailSpin />\n          </ContainerCentered>\n        )}\n        {shouldRenderLoadMoreButton && (\n          <ContainerCentered>\n            <Button handleShowMore={handleShowMore} label=\"Show more\" />\n          </ContainerCentered>\n        )}\n        {message && (\n          <ContainerCentered>\n            <p>{message}</p>\n          </ContainerCentered>\n        )}\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={LargeImage} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}