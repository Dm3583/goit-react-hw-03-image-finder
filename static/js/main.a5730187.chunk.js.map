{"version":3,"sources":["components/Searchbar/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/ContainerCentered/ContainerCentered.js","services/images-api.js","components/App.js","index.js"],"names":["SearchForm","state","value","handleInput","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","Searchbar","Button","handleShowMore","label","onClick","defaultProps","LoaderTailSpin","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","children","createPortal","ImageGalleryItem","image","showLargeImage","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","id","ContainerCentered","query","page","per_page","axios","get","then","response","data","App","showModal","LoadMore","isLoading","error","message","LargeImage","getImages","imagesApi","galleryContentHandler","catch","finally","totalHits","prevState","hits","length","loadMore","handleAutoScrollDown","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","url","prevProps","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5730187.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SearchForm.scss';\r\n\r\nclass SearchForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    value: '',\r\n  };\r\n  handleInput = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { handleInput, handleSubmit } = this;\r\n    return (\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={handleInput}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={value}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from 'react';\r\nimport './Searchbar.scss';\r\nimport SearchForm from './SearchForm';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <SearchForm onSubmit={onSubmit} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport './Button.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ handleShowMore, label }) => {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={handleShowMore}>\r\n      {label}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  handleShowMore: PropTypes.func.isRequired,\r\n  label: PropTypes.string,\r\n};\r\n\r\nButton.defaultProps = {\r\n  label: 'Button Text',\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst LoaderTailSpin = () => {\r\n  return <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />;\r\n};\r\n\r\nexport { LoaderTailSpin };\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './Modal.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport './ImageGalleryItem.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ image, showLargeImage }) => {\r\n  const { webformatURL, tags, largeImageURL } = image;\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        onClick={() => showLargeImage(largeImageURL)}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  }),\r\n  showLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport './ImageGallery.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, showLargeImage }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          showLargeImage={showLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport './ContainerCentered.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ContainerCentered = ({ children }) => {\r\n  return <div className=\"ContentWrapper\">{children}</div>;\r\n};\r\n\r\nContainerCentered.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ContainerCentered;\r\n","import axios from 'axios';\r\n\r\nconst API_KEY = '19762883-8865d0dea9f1f7e21a434f769';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\nconst getImages = ({ query, page, per_page }) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\r\n    )\r\n    .then(response => response.data);\r\n};\r\n\r\nexport default { getImages };\r\n","import React, { Component } from 'react';\r\nimport './App.scss';\r\nimport Searchbar from './Searchbar';\r\nimport Button from './Button';\r\nimport { LoaderTailSpin } from './Loader';\r\nimport Modal from './Modal';\r\nimport ImageGallery from './ImageGallery';\r\nimport ContainerCentered from './ContainerCentered';\r\nimport imagesApi from '../services/images-api';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    images: [],\r\n    page: 1,\r\n    per_page: 12,\r\n    showModal: false,\r\n    LoadMore: false,\r\n    isLoading: false,\r\n    error: null,\r\n    message: '',\r\n    LargeImage: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.setState({ isLoading: true });\r\n      this.getImages();\r\n    }\r\n  }\r\n\r\n  getImages = () => {\r\n    const { query, page, per_page } = this.state;\r\n    const options = { query, page, per_page };\r\n    imagesApi\r\n      .getImages(options)\r\n      .then(data => {\r\n        this.galleryContentHandler(data);\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n\r\n  galleryContentHandler = data => {\r\n    if (data.totalHits === 0) {\r\n      this.setState({ message: 'There is no images for your query' });\r\n      return;\r\n    }\r\n    this.setState(prevState => ({\r\n      images: [...prevState.images, ...data.hits],\r\n    }));\r\n    if (data.totalHits - this.state.images.length > 0) {\r\n      this.loadMore();\r\n    } else {\r\n      this.setState({ LoadMore: false });\r\n    }\r\n    this.handleAutoScrollDown();\r\n  };\r\n\r\n  handleAutoScrollDown = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n    this.setState({ LoadMore: true });\r\n  };\r\n\r\n  onSubmit = query => {\r\n    this.setState({\r\n      query: query,\r\n      page: 1,\r\n      images: [],\r\n      error: null,\r\n      message: '',\r\n      LoadMore: false,\r\n    });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n    if (this.state.showModal) {\r\n      this.setState({ LargeImage: '' });\r\n    }\r\n  };\r\n\r\n  showLargeImage = url => {\r\n    this.setState({ LargeImage: url });\r\n    this.toggleModal();\r\n  };\r\n\r\n  handleShowMore = () => {\r\n    this.setState({\r\n      isLoading: true,\r\n      error: null\r\n    });\r\n    this.getImages();\r\n  };\r\n\r\n  render() {\r\n    const { onSubmit, handleShowMore, toggleModal, showLargeImage } = this;\r\n    const {\r\n      showModal,\r\n      images,\r\n      LoadMore,\r\n      isLoading,\r\n      error,\r\n      message,\r\n      LargeImage,\r\n    } = this.state;\r\n    const shouldRenderLoadMoreButton = LoadMore && !isLoading;\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={onSubmit} />\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} showLargeImage={showLargeImage} />\r\n        )}\r\n        {error && (\r\n          <ContainerCentered>\r\n            <p>Something went wrong ....</p>\r\n          </ContainerCentered>\r\n        )}\r\n        {isLoading && (\r\n          <ContainerCentered>\r\n            <LoaderTailSpin />\r\n          </ContainerCentered>\r\n        )}\r\n        {shouldRenderLoadMoreButton && (\r\n          <ContainerCentered>\r\n            <Button handleShowMore={handleShowMore} label=\"Show more\" />\r\n          </ContainerCentered>\r\n        )}\r\n        {message && (\r\n          <ContainerCentered>\r\n            <p>{message}</p>\r\n          </ContainerCentered>\r\n        )}\r\n        {showModal && (\r\n          <Modal onClose={toggleModal}>\r\n            <img src={LargeImage} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}