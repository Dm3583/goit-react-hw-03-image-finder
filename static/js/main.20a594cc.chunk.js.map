{"version":3,"sources":["components/Searchbar/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/ContainerCentered/ContainerCentered.js","services/images-api.js","components/App.js","index.js"],"names":["SearchForm","state","value","handleInput","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","className","type","onChange","autoComplete","autoFocus","placeholder","Component","Searchbar","Button","handleShowMore","label","onClick","defaultProps","LoaderTailSpin","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","children","createPortal","ImageGalleryItem","image","showLargeImage","webformatURL","tags","largeImageURL","src","alt","ImageGallery","images","map","id","ContainerCentered","query","page","per_page","axios","get","then","response","data","catch","error","App","showModal","loadMore","isLoading","message","largeImage","getImages","imagesApi","galleryContentHandler","finally","totalHits","prevState","hits","length","handleAutoScrollDown","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","url","prevProps","shouldRenderLoadMoreButton","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.20a594cc.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SearchForm.scss';\r\n\r\nclass SearchForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    value: '',\r\n  };\r\n  handleInput = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n    this.setState({ value: '' });\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n    const { handleInput, handleSubmit } = this;\r\n    return (\r\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n\r\n        <input\r\n          onChange={handleInput}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={value}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from 'react';\r\nimport './Searchbar.scss';\r\nimport SearchForm from './SearchForm';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  return (\r\n    <header className=\"Searchbar\">\r\n      <SearchForm onSubmit={onSubmit} />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport './Button.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Button = ({ handleShowMore, label }) => {\r\n  return (\r\n    <button type=\"button\" className=\"Button\" onClick={handleShowMore}>\r\n      {label}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  handleShowMore: PropTypes.func.isRequired,\r\n  label: PropTypes.string,\r\n};\r\n\r\nButton.defaultProps = {\r\n  label: 'Button Text',\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst LoaderTailSpin = () => {\r\n  return <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />;\r\n};\r\n\r\nexport { LoaderTailSpin };\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './Modal.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport './ImageGalleryItem.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGalleryItem = ({ image, showLargeImage }) => {\r\n  const { webformatURL, tags, largeImageURL } = image;\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        onClick={() => showLargeImage(largeImageURL)}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  }),\r\n  showLargeImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport './ImageGallery.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ images, showLargeImage }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          showLargeImage={showLargeImage}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport './ContainerCentered.scss';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ContainerCentered = ({ children }) => {\r\n  return <div className=\"ContentWrapper\">{children}</div>;\r\n};\r\n\r\nContainerCentered.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default ContainerCentered;\r\n","import axios from 'axios';\n\nconst API_KEY = '19762883-8865d0dea9f1f7e21a434f769';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst getImages = ({ query, page, per_page }) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data)\n    .catch(error => error);\n};\n\nexport default { getImages };\n","import React, { Component } from 'react';\nimport './App.scss';\nimport Searchbar from './Searchbar';\nimport Button from './Button';\nimport { LoaderTailSpin } from './Loader';\nimport Modal from './Modal';\nimport ImageGallery from './ImageGallery';\nimport ContainerCentered from './ContainerCentered';\nimport imagesApi from '../services/images-api';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    per_page: 12,\n    showModal: false,\n    loadMore: false,\n    isLoading: false,\n    error: null,\n    message: '',\n    largeImage: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.setState({ isLoading: true });\n      this.getImages();\n    }\n  }\n\n  getImages = () => {\n    const { query, page, per_page } = this.state;\n    const options = { query, page, per_page };\n    imagesApi\n      .getImages(options)\n      .then(data => {\n        this.galleryContentHandler(data);\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  galleryContentHandler = data => {\n    if (data.totalHits === 0) {\n      this.setState({ message: 'There is no images for your query' });\n      return;\n    }\n    this.setState(prevState => ({\n      images: [...prevState.images, ...data.hits],\n    }));\n    if (data.totalHits - this.state.images.length > 0) {\n      this.loadMore();\n    } else {\n      this.setState({ loadMore: false });\n    }\n    this.handleAutoScrollDown();\n  };\n\n  handleAutoScrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  loadMore = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.setState({ loadMore: true });\n  };\n\n  onSubmit = query => {\n    this.setState({\n      query: query,\n      page: 1,\n      images: [],\n      error: null,\n      message: '',\n      loadMore: false,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n    if (this.state.showModal) {\n      this.setState({ largeImage: '' });\n    }\n  };\n\n  showLargeImage = url => {\n    this.setState({ largeImage: url });\n    this.toggleModal();\n  };\n\n  handleShowMore = () => {\n    this.setState({\n      isLoading: true,\n      error: null,\n    });\n    this.getImages();\n  };\n\n  render() {\n    const { onSubmit, handleShowMore, toggleModal, showLargeImage } = this;\n    const {\n      showModal,\n      images,\n      loadMore,\n      isLoading,\n      error,\n      message,\n      largeImage,\n    } = this.state;\n    const shouldRenderLoadMoreButton = loadMore && !isLoading;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={onSubmit} />\n        {images.length > 0 && (\n          <ImageGallery images={images} showLargeImage={showLargeImage} />\n        )}\n        {error && (\n          <ContainerCentered>\n            <p>Something went wrong ....</p>\n          </ContainerCentered>\n        )}\n        {isLoading && (\n          <ContainerCentered>\n            <LoaderTailSpin />\n          </ContainerCentered>\n        )}\n        {shouldRenderLoadMoreButton && (\n          <ContainerCentered>\n            <Button handleShowMore={handleShowMore} label=\"Show more\" />\n          </ContainerCentered>\n        )}\n        {message && (\n          <ContainerCentered>\n            <p>{message}</p>\n          </ContainerCentered>\n        )}\n        {showModal && (\n          <Modal onClose={toggleModal}>\n            <img src={largeImage} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}